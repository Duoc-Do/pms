(function($){var jprp={response:null,getEndpointURL:function(URL){var locationObject,is_customizer='undefined'!==typeof wp&&wp.customize&&wp.customize.settings&&wp.customize.settings.url&&wp.customize.settings.url.self;if(is_customizer){locationObject=document.createElement('a');locationObject.href=wp.customize.settings.url.self;}else{locationObject=document.location;}
if('string'===typeof(URL)&&URL.match(/^https?:\/\//)){locationObject=document.createElement('a');locationObject.href=URL;}
var args='relatedposts=1';if($('#jp-relatedposts').data('exclude')){args+='&relatedposts_exclude='+$('#jp-relatedposts').data('exclude');}
if(is_customizer){args+='&jetpackrpcustomize=1';}
var pathname=locationObject.pathname;if('/'!==pathname[0]){pathname='/'+pathname;}
if(''===locationObject.search){return pathname+'?'+args;}else{return pathname+locationObject.search+'&'+args;}},getAnchor:function(post,classNames){var anchor_title=post.title;if(''!==(''+post.excerpt)){anchor_title+='\n\n'+post.excerpt;}
var anchor=$('<a>');anchor.attr({'class':classNames,'href':post.url,'title':anchor_title,'rel':post.rel,'data-origin':post.url_meta.origin,'data-position':post.url_meta.position});var anchor_html=$('<div>').append(anchor).html();return[anchor_html.substring(0,anchor_html.length-4),'</a>'];},generateMinimalHtml:function(posts,options){var self=this;var html='';$.each(posts,function(index,post){var anchor=self.getAnchor(post,'jp-relatedposts-post-a');var classes='jp-relatedposts-post jp-relatedposts-post'+index;if(post.classes.length>0){classes+=' '+post.classes.join(' ');}
html+='<p class="'+classes+'" data-post-id="'+post.id+'" data-post-format="'+post.format+'">';html+='<span class="jp-relatedposts-post-title">'+anchor[0]+post.title+anchor[1]+'</span>';if(options.showDate){html+='<span class="jp-relatedposts-post-date">'+post.date+'</span>';}
if(options.showContext){html+='<span class="jp-relatedposts-post-context">'+post.context+'</span>';}
html+='</p>';});return'<div class="jp-relatedposts-items jp-relatedposts-items-minimal jp-relatedposts-'+options.layout+' ">'+html+'</div>';},generateVisualHtml:function(posts,options){var self=this;var html='';$.each(posts,function(index,post){var anchor=self.getAnchor(post,'jp-relatedposts-post-a');var classes='jp-relatedposts-post jp-relatedposts-post'+index;if(post.classes.length>0){classes+=' '+post.classes.join(' ');}
if(!post.img.src){classes+=' jp-relatedposts-post-nothumbs';}else{classes+=' jp-relatedposts-post-thumbs';}
html+='<div class="'+classes+'" data-post-id="'+post.id+'" data-post-format="'+post.format+'">';if(post.img.src){html+=anchor[0]+'<img class="jp-relatedposts-post-img" src="'+post.img.src+'" width="'+post.img.width+'" alt="'+post.title+'" />'+anchor[1];}else{var anchor_overlay=self.getAnchor(post,'jp-relatedposts-post-a jp-relatedposts-post-aoverlay');html+=anchor_overlay[0]+anchor_overlay[1];}
html+='<'+related_posts_js_options.post_heading+' class="jp-relatedposts-post-title">'+anchor[0]+post.title+anchor[1]+'</'+related_posts_js_options.post_heading+'>';html+='<p class="jp-relatedposts-post-excerpt">'+$('<p>').text(post.excerpt).html()+'</p>';if(options.showDate){html+='<p class="jp-relatedposts-post-date">'+post.date+'</p>';}
if(options.showContext){html+='<p class="jp-relatedposts-post-context">'+post.context+'</p>';}
html+='</div>';});return'<div class="jp-relatedposts-items jp-relatedposts-items-visual jp-relatedposts-'+options.layout+' ">'+html+'</div>';},setVisualExcerptHeights:function(){var elements=$('#jp-relatedposts .jp-relatedposts-post-nothumbs .jp-relatedposts-post-excerpt');if(0>=elements.length){return;}
var fontSize=parseInt(elements.first().css('font-size'),10),lineHeight=parseInt(elements.first().css('line-height'),10);elements.css('max-height',(5*lineHeight/fontSize)+'em');},getTrackedUrl:function(anchor){var args='relatedposts_hit=1';args+='&relatedposts_origin='+$(anchor).data('origin');args+='&relatedposts_position='+$(anchor).data('position');var pathname=anchor.pathname;if('/'!==pathname[0]){pathname='/'+pathname;}
if(''===anchor.search){return pathname+'?'+args;}else{return pathname+anchor.search+'&'+args;}},cleanupTrackedUrl:function(){if('function'!==typeof history.replaceState){return;}
var cleaned_search=document.location.search.replace(/\brelatedposts_[a-z]+=[0-9]*&?\b/gi,'');if('?'===cleaned_search){cleaned_search='';}
if(document.location.search!==cleaned_search){history.replaceState({},document.title,document.location.pathname+cleaned_search);}}};function startRelatedPosts(){jprp.cleanupTrackedUrl();var endpointURL=jprp.getEndpointURL(),$relatedPosts=$('#jp-relatedposts');$.getJSON(endpointURL,function(response){if(0===response.items.length||0===$relatedPosts.length){return;}
jprp.response=response;var html,showThumbnails,options={};if('undefined'!==typeof wp&&wp.customize){showThumbnails=wp.customize.instance('jetpack_relatedposts[show_thumbnails]').get();options.showDate=wp.customize.instance('jetpack_relatedposts[show_date]').get();options.showContext=wp.customize.instance('jetpack_relatedposts[show_context]').get();options.layout=wp.customize.instance('jetpack_relatedposts[layout]').get();}else{showThumbnails=response.show_thumbnails;options.showDate=response.show_date;options.showContext=response.show_context;options.layout=response.layout;}
html=!showThumbnails?jprp.generateMinimalHtml(response.items,options):jprp.generateVisualHtml(response.items,options);$relatedPosts.append(html);jprp.setVisualExcerptHeights();if(options.showDate){$relatedPosts.find('.jp-relatedposts-post-date').show();}
$relatedPosts.show();$('#jp-relatedposts a.jp-relatedposts-post-a').click(function(){this.href=jprp.getTrackedUrl(this);});});}
$(function(){if('undefined'!==typeof wp&&wp.customize){if(wp.customize.selectiveRefresh){wp.customize.selectiveRefresh.bind('partial-content-rendered',function(placement){if('jetpack_relatedposts'===placement.partial.id){startRelatedPosts();}});}
wp.customize.bind('preview-ready',startRelatedPosts);}else{startRelatedPosts();}});})(jQuery);;(function(root,factory){if(typeof exports=='object')module.exports=factory()
else if(typeof define=='function'&&define.amd)define(factory)
else root.Spinner=factory()}
(this,function(){"use strict";var prefixes=['webkit','Moz','ms','O'],animations={},useCssAnimations
function createEl(tag,prop){var el=document.createElement(tag||'div'),n
for(n in prop)el[n]=prop[n]
return el}
function ins(parent){for(var i=1,n=arguments.length;i<n;i++)
parent.appendChild(arguments[i])
return parent}
var sheet=(function(){var el=createEl('style',{type:'text/css'})
ins(document.getElementsByTagName('head')[0],el)
return el.sheet||el.styleSheet}())
function addAnimation(alpha,trail,i,lines){var name=['opacity',trail,~~(alpha*100),i,lines].join('-'),start=0.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf('Animation')).toLowerCase(),pre=prefix&&'-'+prefix+'-'||''
if(!animations[name]){sheet.insertRule('@'+pre+'keyframes '+name+'{'+'0%{opacity:'+z+'}'+
start+'%{opacity:'+alpha+'}'+
(start+0.01)+'%{opacity:1}'+
(start+trail)%100+'%{opacity:'+alpha+'}'+'100%{opacity:'+z+'}'+'}',sheet.cssRules.length)
animations[name]=1}
return name}
function vendor(el,prop){var s=el.style,pp,i
if(s[prop]!==undefined)return prop
prop=prop.charAt(0).toUpperCase()+prop.slice(1)
for(i=0;i<prefixes.length;i++){pp=prefixes[i]+prop
if(s[pp]!==undefined)return pp}}
function css(el,prop){for(var n in prop)
el.style[vendor(el,n)||n]=prop[n]
return el}
function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i]
for(var n in def)
if(obj[n]===undefined)obj[n]=def[n]}
return obj}
function pos(el){var o={x:el.offsetLeft,y:el.offsetTop}
while((el=el.offsetParent))
o.x+=el.offsetLeft,o.y+=el.offsetTop
return o}
var defaults={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:'#000',direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:'spinner',top:'auto',left:'auto',position:'relative'}
function Spinner(o){if(typeof this=='undefined')return new Spinner(o)
this.opts=merge(o||{},Spinner.defaults,defaults)}
Spinner.defaults={}
merge(Spinner.prototype,{spin:function(target){this.stop()
var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),mid=o.radius+o.length+o.width,ep,tp
if(target){target.insertBefore(el,target.firstChild||null)
tp=pos(target)
ep=pos(el)
css(el,{left:(o.left=='auto'?tp.x-ep.x+(target.offsetWidth>>1):parseInt(o.left,10)+mid)+'px',top:(o.top=='auto'?tp.y-ep.y+(target.offsetHeight>>1):parseInt(o.top,10)+mid)+'px'})}
el.setAttribute('role','progressbar')
self.lines(el,self.opts)
if(!useCssAnimations){var i=0,start=(o.lines-1)*(1-o.direction)/2,alpha,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;(function anim(){i++;for(var j=0;j<o.lines;j++){alpha=Math.max(1-(i+(o.lines-j)*astep)%f*ostep,o.opacity)
self.opacity(el,j*o.direction+start,alpha,o)}
self.timeout=self.el&&setTimeout(anim,~~(1000/fps))})()}
return self},stop:function(){var el=this.el
if(el){clearTimeout(this.timeout)
if(el.parentNode)el.parentNode.removeChild(el)
this.el=undefined}
return this},lines:function(el,o){var i=0,start=(o.lines-1)*(1-o.direction)/2,seg
function fill(color,shadow){return css(createEl(),{position:'absolute',width:(o.length+o.width)+'px',height:o.width+'px',background:color,boxShadow:shadow,transformOrigin:'left',transform:'rotate('+~~(360/o.lines*i+o.rotate)+'deg) translate('+o.radius+'px'+',0)',borderRadius:(o.corners*o.width>>1)+'px'})}
for(;i<o.lines;i++){seg=css(createEl(),{position:'absolute',top:1+~(o.width/2)+'px',transform:o.hwaccel?'translate3d(0,0,0)':'',opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,start+i*o.direction,o.lines)+' '+1/o.speed+'s linear infinite'})
if(o.shadow)ins(seg,css(fill('#000','0 0 4px '+'#000'),{top:2+'px'}))
ins(el,ins(seg,fill(o.color,'0 0 1px rgba(0,0,0,.1)')))}
return el},opacity:function(el,i,val){if(i<el.childNodes.length)el.childNodes[i].style.opacity=val}})
function initVML(){function vml(tag,attr){return createEl('<'+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}
sheet.addRule('.spin-vml','behavior:url(#default#VML)')
Spinner.prototype.lines=function(el,o){var r=o.length+o.width,s=2*r
function grp(){return css(vml('group',{coordsize:s+' '+s,coordorigin:-r+' '+-r}),{width:s,height:s})}
var margin=-(o.width+o.length)*2+'px',g=css(grp(),{position:'absolute',top:margin,left:margin}),i
function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+'deg',left:~~dx}),ins(css(vml('roundrect',{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml('fill',{color:o.color,opacity:o.opacity}),vml('stroke',{opacity:0}))))}
if(o.shadow)
for(i=1;i<=o.lines;i++)
seg(i,-2,'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')
for(i=1;i<=o.lines;i++)seg(i)
return ins(el,g)}
Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild
o=o.shadow&&o.lines||0
if(c&&i+o<c.childNodes.length){c=c.childNodes[i+o];c=c&&c.firstChild;c=c&&c.firstChild
if(c)c.opacity=val}}}
var probe=css(createEl('group'),{behavior:'url(#default#VML)'})
if(!vendor(probe,'transform')&&probe.adj)initVML()
else useCssAnimations=vendor(probe,'animation')
return Spinner}));;(function(factory){if(typeof exports=='object'){factory(require('jquery'),require('spin'))}
else if(typeof define=='function'&&define.amd){define(['jquery','spin'],factory)}
else{if(!window.Spinner)throw new Error('Spin.js not present')
factory(window.jQuery,window.Spinner)}}(function($,Spinner){$.fn.spin=function(opts,color){return this.each(function(){var $this=$(this),data=$this.data();if(data.spinner){data.spinner.stop();delete data.spinner;}
if(opts!==false){opts=$.extend({color:color||$this.css('color')},$.fn.spin.presets[opts]||opts)
if(typeof opts.right!=='undefined'&&typeof opts.length!=='undefined'&&typeof opts.width!=='undefined'&&typeof opts.radius!=='undefined'){var pad=$this.css('padding-left');pad=(typeof pad==='undefined')?0:parseInt(pad,10);opts.left=$this.outerWidth()-(2*(opts.length+opts.width+opts.radius))-pad-opts.right;delete opts.right;}
data.spinner=new Spinner(opts).spin(this)}})}
$.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}));(function($){$.fn.spin.presets.wp={trail:60,speed:1.3};$.fn.spin.presets.small=$.extend({lines:8,length:2,width:2,radius:3},$.fn.spin.presets.wp);$.fn.spin.presets.medium=$.extend({lines:8,length:4,width:3,radius:5},$.fn.spin.presets.wp);$.fn.spin.presets.large=$.extend({lines:10,length:6,width:4,radius:7},$.fn.spin.presets.wp);$.fn.spin.presets['small-left']=$.extend({left:5},$.fn.spin.presets.small);$.fn.spin.presets['small-right']=$.extend({right:5},$.fn.spin.presets.small);$.fn.spin.presets['medium-left']=$.extend({left:5},$.fn.spin.presets.medium);$.fn.spin.presets['medium-right']=$.extend({right:5},$.fn.spin.presets.medium);$.fn.spin.presets['large-left']=$.extend({left:5},$.fn.spin.presets.large);$.fn.spin.presets['large-right']=$.extend({right:5},$.fn.spin.presets.large);})(jQuery);
;!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
;var NO_JQUERY={};(function(window,$,undefined){if(!("console"in window)){var c=window.console={};c.log=c.warn=c.error=c.debug=function(){};}
if($===NO_JQUERY){$={fn:{},extend:function(){var a=arguments[0];for(var i=1,len=arguments.length;i<len;i++){var b=arguments[i];for(var prop in b){a[prop]=b[prop];}}
return a;}};}
$.fn.pm=function(){console.log("usage: \nto send:    $.pm(options)\nto receive: $.pm.bind(type, fn, [origin])");return this;};$.pm=window.pm=function(options){pm.send(options);};$.pm.bind=window.pm.bind=function(type,fn,origin,hash,async_reply){pm.bind(type,fn,origin,hash,async_reply===true);};$.pm.unbind=window.pm.unbind=function(type,fn){pm.unbind(type,fn);};$.pm.origin=window.pm.origin=null;$.pm.poll=window.pm.poll=200;var pm={send:function(options){var o=$.extend({},pm.defaults,options),target=o.target;if(!o.target){console.warn("postmessage target window required");return;}
if(!o.type){console.warn("postmessage type required");return;}
var msg={data:o.data,type:o.type};if(o.success){msg.callback=pm._callback(o.success);}
if(o.error){msg.errback=pm._callback(o.error);}
if(("postMessage"in target)&&!o.hash){pm._bind();target.postMessage(JSON.stringify(msg),o.origin||'*');}
else{pm.hash._bind();pm.hash.send(o,msg);}},bind:function(type,fn,origin,hash,async_reply){pm._replyBind(type,fn,origin,hash,async_reply);},_replyBind:function(type,fn,origin,hash,isCallback){if(("postMessage"in window)&&!hash){pm._bind();}
else{pm.hash._bind();}
var l=pm.data("listeners.postmessage");if(!l){l={};pm.data("listeners.postmessage",l);}
var fns=l[type];if(!fns){fns=[];l[type]=fns;}
fns.push({fn:fn,callback:isCallback,origin:origin||$.pm.origin});},unbind:function(type,fn){var l=pm.data("listeners.postmessage");if(l){if(type){if(fn){var fns=l[type];if(fns){var m=[];for(var i=0,len=fns.length;i<len;i++){var o=fns[i];if(o.fn!==fn){m.push(o);}}
l[type]=m;}}
else{delete l[type];}}
else{for(var i in l){delete l[i];}}}},data:function(k,v){if(v===undefined){return pm._data[k];}
pm._data[k]=v;return v;},_data:{},_CHARS:'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),_random:function(){var r=[];for(var i=0;i<32;i++){r[i]=pm._CHARS[0|Math.random()*32];};return r.join("");},_callback:function(fn){var cbs=pm.data("callbacks.postmessage");if(!cbs){cbs={};pm.data("callbacks.postmessage",cbs);}
var r=pm._random();cbs[r]=fn;return r;},_bind:function(){if(!pm.data("listening.postmessage")){if(window.addEventListener){window.addEventListener("message",pm._dispatch,false);}
else if(window.attachEvent){window.attachEvent("onmessage",pm._dispatch);}
pm.data("listening.postmessage",1);}},_dispatch:function(e){try{var msg=JSON.parse(e.data);}
catch(ex){return;}
if(!msg.type){return;}
var cbs=pm.data("callbacks.postmessage")||{},cb=cbs[msg.type];if(cb){cb(msg.data);}
else{var l=pm.data("listeners.postmessage")||{};var fns=l[msg.type]||[];for(var i=0,len=fns.length;i<len;i++){var o=fns[i];if(o.origin&&o.origin!=='*'&&e.origin!==o.origin){console.warn("postmessage message origin mismatch",e.origin,o.origin);if(msg.errback){var error={message:"postmessage origin mismatch",origin:[e.origin,o.origin]};pm.send({target:e.source,data:error,type:msg.errback});}
continue;}
function sendReply(data){if(msg.callback){pm.send({target:e.source,data:data,type:msg.callback});}}
try{if(o.callback){o.fn(msg.data,sendReply,e);}else{sendReply(o.fn(msg.data,e));}}
catch(ex){if(msg.errback){pm.send({target:e.source,data:ex,type:msg.errback});}else{throw ex;}}};}}};pm.hash={send:function(options,msg){var target_window=options.target,target_url=options.url;if(!target_url){console.warn("postmessage target window url is required");return;}
target_url=pm.hash._url(target_url);var source_window,source_url=pm.hash._url(window.location.href);if(window==target_window.parent){source_window="parent";}
else{try{for(var i=0,len=parent.frames.length;i<len;i++){var f=parent.frames[i];if(f==window){source_window=i;break;}};}
catch(ex){source_window=window.name;}}
if(source_window==null){console.warn("postmessage windows must be direct parent/child windows and the child must be available through the parent window.frames list");return;}
var hashmessage={"x-requested-with":"postmessage",source:{name:source_window,url:source_url},postmessage:msg};var hash_id="#x-postmessage-id="+pm._random();target_window.location=target_url+hash_id+encodeURIComponent(JSON.stringify(hashmessage));},_regex:/^\#x\-postmessage\-id\=(\w{32})/,_regex_len:"#x-postmessage-id=".length+32,_bind:function(){if(!pm.data("polling.postmessage")){setInterval(function(){var hash=""+window.location.hash,m=pm.hash._regex.exec(hash);if(m){var id=m[1];if(pm.hash._last!==id){pm.hash._last=id;pm.hash._dispatch(hash.substring(pm.hash._regex_len));}}},$.pm.poll||200);pm.data("polling.postmessage",1);}},_dispatch:function(hash){if(!hash){return;}
try{hash=JSON.parse(decodeURIComponent(hash));if(!(hash['x-requested-with']==='postmessage'&&hash.source&&hash.source.name!=null&&hash.source.url&&hash.postmessage)){return;}}
catch(ex){return;}
var msg=hash.postmessage,cbs=pm.data("callbacks.postmessage")||{},cb=cbs[msg.type];if(cb){cb(msg.data);}
else{var source_window;if(hash.source.name==="parent"){source_window=window.parent;}
else{source_window=window.frames[hash.source.name];}
var l=pm.data("listeners.postmessage")||{};var fns=l[msg.type]||[];for(var i=0,len=fns.length;i<len;i++){var o=fns[i];if(o.origin){var origin=/https?\:\/\/[^\/]*/.exec(hash.source.url)[0];if(o.origin!=='*'&&origin!==o.origin){console.warn("postmessage message origin mismatch",origin,o.origin);if(msg.errback){var error={message:"postmessage origin mismatch",origin:[origin,o.origin]};pm.send({target:source_window,data:error,type:msg.errback,hash:true,url:hash.source.url});}
continue;}}
function sendReply(data){if(msg.callback){pm.send({target:source_window,data:data,type:msg.callback,hash:true,url:hash.source.url});}}
try{if(o.callback){o.fn(msg.data,sendReply);}else{sendReply(o.fn(msg.data));}}
catch(ex){if(msg.errback){pm.send({target:source_window,data:ex,type:msg.errback,hash:true,url:hash.source.url});}else{throw ex;}}};}},_url:function(url){return(""+url).replace(/#.*$/,"");}};$.extend(pm,{defaults:{target:null,url:null,type:null,data:null,success:null,error:null,origin:"*",hash:false}});})(this,typeof jQuery==="undefined"?NO_JQUERY:jQuery);if(!("JSON"in window&&window.JSON)){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());;(function($){var listening=false,sourceOrigins=[],$sources=false,URLtoOrigin,setupListener,destroyListener,methods;if('undefined'===typeof window.Jetpack){window.Jetpack={getTarget:function(context){if(this instanceof jQuery){return context?this.filter(context):this;}
return context?$(context):context;}};}
if('undefined'===typeof $.fn.Jetpack){$.fn.Jetpack=function(namespace){if('function'===typeof Jetpack[namespace]){return Jetpack[namespace].apply(this,Array.prototype.slice.call(arguments,1));}else{$.error('Namespace "'+namespace+'" does not exist on jQuery.Jetpack');}};}
if('function'!==typeof window.postMessage){$.extend(window.Jetpack,{resizeable:function(){$.error('Browser does not support window.postMessage');}});return;}
URLtoOrigin=function(URL){if(!URL.match(/^https?:\/\//)){URL=document.location.href;}
return URL.split('/').slice(0,3).join('/');};setupListener=function(){listening=true;$(window).on('message.JetpackResizeableIframe',function(e){var event=e.originalEvent,data;if(-1===$.inArray(event.origin,sourceOrigins)){return;}
if('object'===typeof event.data){data=event.data.data;}else{try{data=JSON.parse(event.data);}catch(err){data=false;}}
if(!data.data){return;}
data=data.data;if('undefined'===typeof data.action||'resize'!==data.action){return;}
$sources.filter(function(){if('undefined'!==typeof data.name){return this.name===data.name;}else{return event.source===this.contentWindow;}}).first().Jetpack('resizeable','resize',data);});};destroyListener=function(){listening=false;$(window).off('message.JetpackResizeableIframe');sourceOrigins=[];$('.jetpack-resizeable').removeClass('jetpack-resizeable');$sources=false;};methods={on:function(context){var target=Jetpack.getTarget.call(this,context);if(!listening){setupListener();}
target.each(function(){sourceOrigins.push(URLtoOrigin($(this).attr('src')));}).addClass('jetpack-resizeable');$sources=$('.jetpack-resizeable');return target;},off:function(context){var target=Jetpack.getTarget.call(this,context);if('undefined'===typeof target){destroyListener();return target;}
target.each(function(){var origin=URLtoOrigin($(this).attr('src')),pos=$.inArray(origin,sourceOrigins);if(-1!==pos){sourceOrigins.splice(pos,1);}}).removeClass('jetpack-resizeable');$sources=$('.jetpack-resizeable');return target;},resize:function(dimensions,context){var target=Jetpack.getTarget.call(this,context);$.each(['width','height'],function(i,variable){var value=0,container;if('undefined'!==typeof dimensions[variable]){value=parseInt(dimensions[variable],10);}
if(0!==value){target[variable](value);container=target.parent();if(container.hasClass('slim-likes-widget')){container[variable](value);}}});return target;}};$.extend(window.Jetpack,{resizeable:function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(!method){return methods.on.apply(this);}else{$.error('Method '+method+' does not exist on Jetpack.resizeable');}}});})(jQuery);;var jetpackLikesWidgetBatch=[];var jetpackLikesMasterReady=false;var jetpackLikesLookAhead=2000;var jetpackCommentLikesLoadedWidgets=[];function JetpackLikesPostMessage(message,target){if('string'===typeof message){try{message=JSON.parse(message);}catch(e){return;}}
pm({target:target,type:'likesMessage',data:message,origin:'*'});}
function JetpackLikesBatchHandler(){var requests=[];jQuery('div.jetpack-likes-widget-unloaded').each(function(){if(jetpackLikesWidgetBatch.indexOf(this.id)>-1){return;}
if(!jetpackIsScrolledIntoView(this)){return;}
jetpackLikesWidgetBatch.push(this.id);var regex=/like-(post|comment)-wrapper-(\d+)-(\d+)-(\w+)/,match=regex.exec(this.id),info;if(!match||match.length!==5){return;}
info={blog_id:match[2],width:this.width};if('post'===match[1]){info.post_id=match[3];}else if('comment'===match[1]){info.comment_id=match[3];}
info.obj_id=match[4];requests.push(info);});if(requests.length>0){JetpackLikesPostMessage({event:'initialBatch',requests:requests},window.frames['likes-master']);}}
function JetpackLikesMessageListener(event,message){var allowedOrigin,$container,$list,offset,rowLength,height,scrollbarWidth;if('undefined'===typeof event.event){return;}
allowedOrigin='https://widgets.wp.com';if(allowedOrigin!==message.origin){return;}
switch(event.event){case'masterReady':jQuery(document).ready(function(){jetpackLikesMasterReady=true;var stylesData={event:'injectStyles'},$sdTextColor=jQuery('.sd-text-color'),$sdLinkColor=jQuery('.sd-link-color');if(jQuery('iframe.admin-bar-likes-widget').length>0){JetpackLikesPostMessage({event:'adminBarEnabled'},window.frames['likes-master']);stylesData.adminBarStyles={background:jQuery('#wpadminbar .quicklinks li#wp-admin-bar-wpl-like > a').css('background'),isRtl:('rtl'===jQuery('#wpadminbar').css('direction'))};}
if(!window.addEventListener){jQuery('#wp-admin-bar-admin-bar-likes-widget').hide();}
stylesData.textStyles={color:$sdTextColor.css('color'),fontFamily:$sdTextColor.css('font-family'),fontSize:$sdTextColor.css('font-size'),direction:$sdTextColor.css('direction'),fontWeight:$sdTextColor.css('font-weight'),fontStyle:$sdTextColor.css('font-style'),textDecoration:$sdTextColor.css('text-decoration')};stylesData.linkStyles={color:$sdLinkColor.css('color'),fontFamily:$sdLinkColor.css('font-family'),fontSize:$sdLinkColor.css('font-size'),textDecoration:$sdLinkColor.css('text-decoration'),fontWeight:$sdLinkColor.css('font-weight'),fontStyle:$sdLinkColor.css('font-style')};JetpackLikesPostMessage(stylesData,window.frames['likes-master']);JetpackLikesBatchHandler();});break;case'showLikeWidget':jQuery('#'+event.id+' .likes-widget-placeholder').fadeOut('fast');break;case'showCommentLikeWidget':jQuery('#'+event.id+' .likes-widget-placeholder').fadeOut('fast');break;case'killCommentLikes':jQuery('.jetpack-comment-likes-widget-wrapper').remove();break;case'clickReblogFlair':wpcom_reblog.toggle_reblog_box_flair(event.obj_id);break;case'showOtherGravatars':$container=jQuery('#likes-other-gravatars');$list=$container.find('ul');$container.hide();$list.html('');$container.find('.likes-text span').text(event.total);jQuery.each(event.likers,function(i,liker){var element;if('http'!==liker.profile_URL.substr(0,4)){return;}
element=jQuery('<li><a><img /></a></li>');element.addClass(liker.css_class);element.find('a').attr({href:liker.profile_URL,rel:'nofollow',target:'_parent'}).addClass('wpl-liker');element.find('img').attr({src:liker.avatar_URL,alt:liker.name}).css({width:'30px',height:'30px',paddingRight:'3px'});$list.append(element);});offset=jQuery('[name=\''+event.parent+'\']').offset();$container.css('left',offset.left+event.position.left-10+'px');$container.css('top',offset.top+event.position.top-33+'px');rowLength=Math.floor(event.width/37);height=(Math.ceil(event.likers.length/rowLength)*37)+13;if(height>204){height=204;}
$container.css('height',height+'px');$container.css('width',rowLength*37-7+'px');$list.css('width',rowLength*37+'px');$container.fadeIn('slow');scrollbarWidth=$list[0].offsetWidth-$list[0].clientWidth;if(scrollbarWidth>0){$container.width($container.width()+scrollbarWidth);$list.width($list.width()+scrollbarWidth);}}}
pm.bind('likesMessage',JetpackLikesMessageListener);jQuery(document).click(function(e){var $container=jQuery('#likes-other-gravatars');if($container.has(e.target).length===0){$container.fadeOut('slow');}});function JetpackLikesWidgetQueueHandler(){var wrapperID;if(!jetpackLikesMasterReady){setTimeout(JetpackLikesWidgetQueueHandler,500);return;}
jetpackUnloadScrolledOutWidgets();var unloadedWidgetsInView=jetpackGetUnloadedWidgetsInView();if(unloadedWidgetsInView.length>0){JetpackLikesBatchHandler();}
for(var i=0,length=unloadedWidgetsInView.length;i<=length-1;i++){wrapperID=unloadedWidgetsInView[i].id;if(!wrapperID){continue;}
jetpackLoadLikeWidgetIframe(wrapperID);}}
function jetpackLoadLikeWidgetIframe(wrapperID){var $wrapper;if('undefined'===typeof wrapperID){return;}
$wrapper=jQuery('#'+wrapperID);$wrapper.find('iframe').remove();var placeholder=$wrapper.find('.likes-widget-placeholder');if(placeholder.hasClass('post-likes-widget-placeholder')){var postLikesFrame=document.createElement('iframe');postLikesFrame['class']='post-likes-widget jetpack-likes-widget';postLikesFrame.name=$wrapper.data('name');postLikesFrame.src=$wrapper.data('src');postLikesFrame.height='18px';postLikesFrame.width='200px';postLikesFrame.frameBorder='0';postLikesFrame.scrolling='no';if($wrapper.hasClass('slim-likes-widget')){postLikesFrame.height='22px';postLikesFrame.width='68px';postLikesFrame.scrolling='no';}else{postLikesFrame.height='55px';postLikesFrame.width='100%';}
placeholder.after(postLikesFrame);}
if(placeholder.hasClass('comment-likes-widget-placeholder')){var commentLikesFrame=document.createElement('iframe');commentLikesFrame['class']='comment-likes-widget-frame jetpack-likes-widget-frame';commentLikesFrame.name=$wrapper.data('name');commentLikesFrame.src=$wrapper.data('src');commentLikesFrame.height='18px';commentLikesFrame.width='200px';commentLikesFrame.frameBorder='0';commentLikesFrame.scrolling='no';$wrapper.find('.comment-like-feedback').after(commentLikesFrame);jetpackCommentLikesLoadedWidgets.push(commentLikesFrame);}
$wrapper.removeClass('jetpack-likes-widget-unloaded').addClass('jetpack-likes-widget-loading');$wrapper.find('iframe').load(function(e){var $iframe=jQuery(e.target);JetpackLikesPostMessage({event:'loadLikeWidget',name:$iframe.attr('name'),width:$iframe.width()},window.frames['likes-master']);$wrapper.removeClass('jetpack-likes-widget-loading').addClass('jetpack-likes-widget-loaded');if($wrapper.hasClass('slim-likes-widget')){$wrapper.find('iframe').Jetpack('resizeable');}});}
function jetpackGetUnloadedWidgetsInView(){var $unloadedWidgets=jQuery('div.jetpack-likes-widget-unloaded');return $unloadedWidgets.filter(function(){return jetpackIsScrolledIntoView(this);});}
function jetpackIsScrolledIntoView(element){var top=element.getBoundingClientRect().top;var bottom=element.getBoundingClientRect().bottom;return(top+jetpackLikesLookAhead>=0)&&(bottom<=window.innerHeight+jetpackLikesLookAhead);}
function jetpackUnloadScrolledOutWidgets(){for(var i=jetpackCommentLikesLoadedWidgets.length-1;i>=0;i--){var currentWidgetIframe=jetpackCommentLikesLoadedWidgets[i];if(!jetpackIsScrolledIntoView(currentWidgetIframe)){var $widgetWrapper=jQuery(currentWidgetIframe).parent().parent();$widgetWrapper.removeClass('jetpack-likes-widget-loaded jetpack-likes-widget-loading').addClass('jetpack-likes-widget-unloaded');$widgetWrapper.children('.comment-likes-widget-placeholder').fadeIn();jetpackCommentLikesLoadedWidgets.splice(i,1);jQuery(currentWidgetIframe).remove();}}}
var jetpackWidgetsDelayedExec=function(after,fn){var timer;return function(){timer&&clearTimeout(timer);timer=setTimeout(fn,after);};};var jetpackOnScrollStopped=jetpackWidgetsDelayedExec(250,JetpackLikesWidgetQueueHandler);JetpackLikesWidgetQueueHandler();window.addEventListener('scroll',jetpackOnScrollStopped,true);;var ak_js=document.getElementById("ak_js");if(!ak_js){ak_js=document.createElement('input');ak_js.setAttribute('id','ak_js');ak_js.setAttribute('name','ak_js');ak_js.setAttribute('type','hidden');}
else{ak_js.parentNode.removeChild(ak_js);}
ak_js.setAttribute('value',(new Date()).getTime());var commentForm=document.getElementById('commentform');if(commentForm){commentForm.appendChild(ak_js);}
else{var replyRowContainer=document.getElementById('replyrow');if(replyRowContainer){var children=replyRowContainer.getElementsByTagName('td');if(children.length>0){children[0].appendChild(ak_js);}}};var sharing_js_options;if(sharing_js_options&&sharing_js_options.counts){var WPCOMSharing={done_urls:[],get_counts:function(){var url,requests,id,service,service_request;if('undefined'===typeof WPCOM_sharing_counts){return;}
for(url in WPCOM_sharing_counts){id=WPCOM_sharing_counts[url];if('undefined'!==typeof WPCOMSharing.done_urls[id]){continue;}
requests={linkedin:['https://www.linkedin.com/countserv/count/share?format=jsonp&callback=updateLinkedInCount&url='+
encodeURIComponent(url)],pinterest:[window.location.protocol+'//api.pinterest.com/v1/urls/count.json?callback=WPCOMSharing.update_pinterest_count&url='+
encodeURIComponent(url)],facebook:[window.location.protocol+'//graph.facebook.com/?callback=WPCOMSharing.update_facebook_count&ids='+
encodeURIComponent(url)]};for(service in requests){if(!jQuery('a[data-shared=sharing-'+service+'-'+id+']').length){continue;}
while((service_request=requests[service].pop())){jQuery.getScript(service_request);}
WPCOMSharing.bump_sharing_count_stat(service);}
WPCOMSharing.done_urls[id]=true;}},get_permalink:function(url){if('https:'===window.location.protocol){url=url.replace(/^http:\/\//i,'https://');}else{url=url.replace(/^https:\/\//i,'http://');}
return url;},update_facebook_count:function(data){var url,permalink;if(!data){return;}
for(url in data){if(!data.hasOwnProperty(url)||!data[url].share||!data[url].share.share_count){continue;}
permalink=WPCOMSharing.get_permalink(url);if(!(permalink in WPCOM_sharing_counts)){continue;}
WPCOMSharing.inject_share_count('sharing-facebook-'+WPCOM_sharing_counts[permalink],data[url].share.share_count);}},update_linkedin_count:function(data){if('undefined'!==typeof data.count&&(data.count*1)>0){WPCOMSharing.inject_share_count('sharing-linkedin-'+WPCOM_sharing_counts[data.url],data.count);}},update_pinterest_count:function(data){if('undefined'!==typeof data.count&&(data.count*1)>0){WPCOMSharing.inject_share_count('sharing-pinterest-'+WPCOM_sharing_counts[data.url],data.count);}},inject_share_count:function(id,count){var $share=jQuery('a[data-shared='+id+'] > span');$share.find('.share-count').remove();$share.append('<span class="share-count">'+WPCOMSharing.format_count(count)+'</span>');},format_count:function(count){if(count<1000){return count;}
if(count>=1000&&count<10000){return String(count).substring(0,1)+'K+';}
return'10K+';},bump_sharing_count_stat:function(service){new Image().src=document.location.protocol+'//pixel.wp.com/g.gif?v=wpcom-no-pv&x_sharing-count-request='+service+'&r='+Math.random();}};}
var updateLinkedInCount=function(data){WPCOMSharing.update_linkedin_count(data);};(function($){var $body,$sharing_email;$.fn.extend({share_is_email:function(){return /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(this.val());}});$body=$(document.body).on('post-load',WPCOMSharing_do);$(document).ready(function(){$sharing_email=$('#sharing_email');$body.append($sharing_email);WPCOMSharing_do();});function WPCOMSharing_do(){var $more_sharing_buttons;if('undefined'!==typeof WPCOMSharing){WPCOMSharing.get_counts();}
$more_sharing_buttons=$('.sharedaddy a.sharing-anchor');$more_sharing_buttons.click(function(){return false;});$('.sharedaddy a').each(function(){if($(this).attr('href')&&$(this).attr('href').indexOf('share=')!==-1){$(this).attr('href',$(this).attr('href')+'&nb=1');}});$more_sharing_buttons.on('click',function(){var $more_sharing_button=$(this),$more_sharing_pane=$more_sharing_button.parents('div:first').find('.inner');if($more_sharing_pane.is(':animated')){return;}
if(true===$more_sharing_pane.data('justSlid')){return;}
$sharing_email.slideUp(200);$more_sharing_pane.css({left:$more_sharing_button.position().left+'px',top:$more_sharing_button.position().top+$more_sharing_button.height()+3+'px'}).slideToggle(200);});if(document.ontouchstart===undefined){$more_sharing_buttons.hover(function(){var $more_sharing_button=$(this),$more_sharing_pane=$more_sharing_button.parents('div:first').find('.inner'),timer;if(!$more_sharing_pane.is(':animated')){timer=setTimeout(function(){var handler_item_leave,handler_item_enter,handler_original_leave,handler_original_enter,close_it;$sharing_email.slideUp(200);$more_sharing_pane.data('justSlid',true);$more_sharing_pane.css({left:$more_sharing_button.position().left+'px',top:$more_sharing_button.position().top+$more_sharing_button.height()+3+'px'}).slideDown(200,function(){$more_sharing_button.data('hasoriginal',true).data('hasitem',false);setTimeout(function(){$more_sharing_pane.data('justSlid',false);},300);if($more_sharing_pane.find('.share-google-plus-1').length){return;}
$more_sharing_pane.mouseleave(handler_item_leave).mouseenter(handler_item_enter);$more_sharing_button.mouseleave(handler_original_leave).mouseenter(handler_original_enter);});handler_item_leave=function(){$more_sharing_button.data('hasitem',false);if($more_sharing_button.data('hasoriginal')===false){var timer=setTimeout(close_it,800);$more_sharing_button.data('timer2',timer);}};handler_item_enter=function(){$more_sharing_button.data('hasitem',true);clearTimeout($more_sharing_button.data('timer2'));};handler_original_leave=function(){$more_sharing_button.data('hasoriginal',false);if($more_sharing_button.data('hasitem')===false){var timer=setTimeout(close_it,800);$more_sharing_button.data('timer2',timer);}};handler_original_enter=function(){$more_sharing_button.data('hasoriginal',true);clearTimeout($more_sharing_button.data('timer2'));};close_it=function(){$more_sharing_pane.data('justSlid',true);$more_sharing_pane.slideUp(200,function(){setTimeout(function(){$more_sharing_pane.data('justSlid',false);},300);});$more_sharing_button.unbind('mouseleave',handler_original_leave).unbind('mouseenter',handler_original_enter);$more_sharing_pane.unbind('mouseleave',handler_item_leave).unbind('mouseenter',handler_item_leave);return false;};},200);$more_sharing_button.data('timer',timer);}},function(){$more_sharing_buttons.each(function(){clearTimeout($(this).data('timer'));});$more_sharing_buttons.data('timer',false);});}else{$(document.body).addClass('jp-sharing-input-touch');}
$(document).click(function(){$more_sharing_buttons.each(function(){clearTimeout($(this).data('timer'));});$more_sharing_buttons.data('timer',false);$('.sharedaddy .inner').slideUp();});$('.sharedaddy ul').each(function(){if('yep'===$(this).data('has-click-events')){return;}
$(this).data('has-click-events','yep');var printUrl=function(uniqueId,urlToPrint){$('body:first').append('<iframe style="position:fixed;top:100;left:100;height:1px;width:1px;border:none;" id="printFrame-'+uniqueId+'" name="printFrame-'+uniqueId+'" src="'+urlToPrint+'" onload="frames[\'printFrame-'+uniqueId+'\'].focus();frames[\'printFrame-'+uniqueId+'\'].print();"></iframe>');};$(this).find('a.share-print').click(function(){var ref=$(this).attr('href'),do_print=function(){if(ref.indexOf('#print')===-1){var uid=new Date().getTime();printUrl(uid,ref);}else{print();}};if($(this).parents('.sharing-hidden').length>0){$(this).parents('.inner').slideUp(0,function(){do_print();});}else{do_print();}
return false;});$(this).find('a.share-press-this').click(function(){var s='';if(window.getSelection){s=window.getSelection();}else if(document.getSelection){s=document.getSelection();}else if(document.selection){s=document.selection.createRange().text;}
if(s){$(this).attr('href',$(this).attr('href')+'&sel='+encodeURI(s));}
if(!window.open($(this).attr('href'),'t','toolbar=0,resizable=1,scrollbars=1,status=1,width=720,height=570')){document.location.href=$(this).attr('href');}
return false;});$('a.share-email',this).on('click',function(){var url=$(this).attr('href');if($sharing_email.is(':visible')){$sharing_email.slideUp(200);}else{$('.sharedaddy .inner').slideUp();$('#sharing_email .response').remove();$('#sharing_email form').show();$('#sharing_email form input[type=submit]').removeAttr('disabled');$('#sharing_email form a.sharing_cancel').show();if('object'===typeof grecaptcha&&'function'===typeof grecaptcha.reset&&window.___grecaptcha_cfg.count){grecaptcha.reset();}
$sharing_email.css({left:$(this).offset().left+'px',top:$(this).offset().top+$(this).height()+'px'}).slideDown(200);$('#sharing_email a.sharing_cancel').unbind('click').click(function(){$('#sharing_email .errors').hide();$sharing_email.slideUp(200);$('#sharing_background').fadeOut();return false;});$('#sharing_email input[type=submit]').unbind('click').click(function(){var form=$(this).parents('form');$(this).prop('disabled',true);form.find('a.sharing_cancel').hide();form.find('img.loading').show();$('#sharing_email .errors').hide();$('#sharing_email .error').removeClass('error');if(!$('#sharing_email input[name=source_email]').share_is_email()){$('#sharing_email input[name=source_email]').addClass('error');}
if(!$('#sharing_email input[name=target_email]').share_is_email()){$('#sharing_email input[name=target_email]').addClass('error');}
if($('#sharing_email .error').length===0){$.ajax({url:url,type:'POST',data:form.serialize(),success:function(response){form.find('img.loading').hide();if(response==='1'||response==='2'||response==='3'){$('#sharing_email .errors-'+response).show();form.find('input[type=submit]').removeAttr('disabled');form.find('a.sharing_cancel').show();if('object'===typeof grecaptcha&&'function'===typeof grecaptcha.reset){grecaptcha.reset();}}
else{$('#sharing_email form').hide();$sharing_email.append(response);$('#sharing_email a.sharing_cancel').click(function(){$sharing_email.slideUp(200);$('#sharing_background').fadeOut();return false;});}}});return false;}
form.find('img.loading').hide();form.find('input[type=submit]').removeAttr('disabled');form.find('a.sharing_cancel').show();$('#sharing_email .errors-1').show();return false;});}
return false;});});$('li.share-email, li.share-custom a.sharing-anchor').addClass('share-service-visible');}})(jQuery);